<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API REST Json</title>
  </head>
  <body>
    <ul id="people"></ul>

    <script>
      // var persona = {
      //   nombre: "ivan",
      //   apellido: "lescano",
      //   edad: 25,
      //   apodo: "bambam",
      // };
      // console.log(persona.nombre, ",", persona.apodo, "\n");

      // var personas = [
      //   {
      //     apodo: "bambam",
      //     nombre: "Ivan",
      //   },
      //   {
      //     apodo: "burros cochinito",
      //     nombre: "Gaby",
      //   },
      //   {
      //     apodo: "chÃ³mpiras",
      //     nombre: "Raul",
      //   },

      //   {
      //     apodo: "Cochinita",
      //     nombre: "Heidy",
      //   },
      // ];

      // personas.forEach((element) => {
      //   document.getElementById('people').innerHTML+=`<li>${element.nombre} - ${element.apodo}</li>`
      // });

      
      //el XMLHttpRequest sirve para pedir recursos de otro servidor desde la pagina web
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          // Typical action to be performed when the document is ready:

          //el resultado es un objeto de Javascript pero aun no accedo a los datos 
        var result = JSON.parse(xhttp.responseText);
        console.log(result)
        //en  el resultado accedo con personas porque ese es nombre de mi objeto en el archivo personas.json
        var personas = result.personas;
        console.log('---------------------------------------')
        console.log(personas)
        personas.forEach((element) => {
        document.getElementById("people").innerHTML += `<li>${element.nombre} - ${element.apodo}</li>`;
          });
        }
      };
      xhttp.open("GET", "./personas.json", true);
      xhttp.send();
    </script>
  </body>
</html>
